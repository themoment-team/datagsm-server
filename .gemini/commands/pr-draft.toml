description = "Generate PR body and title suggestions"
prompt = """Based on the following information, generate PR title suggestions and PR body:

## Context

- Current branch: !{git branch --show-current}
- Commits diff from develop: !{git log develop..HEAD --oneline}
- File changes stats from develop: !{git diff develop...HEAD --stat}
- Detailed changes from develop: !{git diff develop...HEAD}
- Recent PR title conventions: !{gh pr list --limit 10 --json title,headRefName --jq '.[] | "\\(.headRefName): \\(.title)"'}
- PR template: @{.github/PULL_REQUEST_TEMPLATE.md}

## Your task

Perform the following tasks:

1. **PR Title Suggestions**:
   - Suggest 3 appropriate titles based on recent PR title conventions
   - Format: `[scope] description`
   - Scopes: ONLY domain names (auth, account, student, club, project, neis, client, oauth) OR module names (web, authorization, resource, common) OR ci/cd OR global
   - Description: Korean, clear and concise
   - Examples: `[global] 기여자 지침 문서 추가`, `[ci/cd] CD 파이프라인 최적화`, `[student] 졸업생 전환 및 저장 기능 구현`
   - No emojis

2. **PR Body**:
   - Follow the PR template structure
   - Analyze commits and changes between develop and current branch
   - Total length must not exceed 2500 characters
   - No emojis
   - Write in Korean
   - Be clear and specific

3. **Output format**:
   ```
   ## 추천 PR 제목

   1. [title1]
   2. [title2]
   3. [title3]

   ## PR 본문

   [generated PR body content following the template structure]
   ```

After generating the PR body, save it to PR_BODY.md in the project root directory by running:

!{cat > PR_BODY.md << 'EOF'
[generated PR body content]
EOF}

Then show the user the title suggestions and body preview.
"""